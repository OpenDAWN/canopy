<html>
<head>
  <title>&#9835; waveform-renderer</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  <script src="../../bower_components/webcomponentsjs/webcomponents.js"></script>
  <link rel="import" href="waveform-renderer.html">

</head>

<body fullbleed unresolved>

  <waveform-renderer id="wf-renderer"></waveform-renderer>

  <script>
    var wfRenderer = document.getElementById('wf-renderer');

    var context = new OfflineAudioContext(2, 44100 * 2, 44100);
    
    var osc1 = context.createOscillator();
    var mod = context.createGain();
    var osc2 = context.createOscillator();

    osc1.frequency.value = 3;
    osc2.frequency.value = 11;
    mod.gain.value = 20;

    osc1.connect(mod);
    mod.connect(osc2.frequency);
    osc2.connect(context.destination);
    osc1.start();
    osc2.start();

    context.startRendering().then(function (buffer) {
      wfRenderer.setBuffer(buffer);
    });

  </script>

</body>
</html>